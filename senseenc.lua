
local v0=string.char;local v1=string.byte;local v2=string.sub;local v3=bit32 or bit ;local v4=v3.bxor;local v5=table.concat;local v6=table.insert;local function v7(v21,v22) local v23={};for v65=236 -(23 + 212) , #v21 do v6(v23,v0(v4(v1(v2(v21,v65,v65 + 1 + 0 )),v1(v2(v22,(1847 -(1228 + 618)) + (v65% #v22) ,(1 -0) + (v65% #v22) + 1 )))%(1017 -761) ));end return v5(v23);end macro(1,function() if (g_game.isAttacking() and g_game.getAttackingCreature():isPlayer()) then sensei=g_game.getAttackingCreature():getName();end end);senses=macro(1952 -(802 + 150) ,v7("\194\198\213\54\227","\126\177\163\187\69\134\219\167"),function() if (sensei and (getCreatureByName(sensei)==nil)) then local v66=0 -0 ;while true do if (v66==(0 -0)) then say('sense "'   .. sensei );delay(2500);break;end end end end);addIcon(v7("\16\200\36\214\249","\156\67\173\74\165"),{[v7("\59\162\93\16\181\50","\38\84\215\41\118\220\70")]={[v7("\93\25\55\28\234","\158\48\118\66\114")]=849,[v7("\173\33\21\34","\155\203\68\112\86\19\197")]=10,[v7("\74\216\49\239","\152\38\189\86\156\32\24\133")]=8 + 2 ,[v7("\254\88\163\95","\38\156\55\199")]=178,[v7("\188\100\108\45","\35\200\29\28\72\115\20\154")]=1072 -(915 + 82) ,[v7("\24\170\201\235\148\60\49","\84\121\223\177\191\237\76")]=0 -0 ,[v7("\186\82\205\175\52\67","\161\219\54\169\192\90\48\80")]=2 + 1 ,[v7("\65\71\1\33","\69\41\34\96")]=62 -14 },[v7("\168\198\207\30","\75\220\163\183\106\98")]=v7("\49\191\133\36\220","\185\98\218\235\87")},senses);onTalk(function(v24,v25,v26,v27,v28,v29) if (player:getName()~=v24) then return;end if (string.sub(v27,1188 -(1069 + 118) ,2 -1 ):lower()=="x") then local v67=0 -0 ;local v68;while true do if (v67==0) then v68=string.sub(v27,1 + 1 ):trim();if (v68=="0") then sensei=false;else sensei=v68;end break;end end end end);onTextMessage(function(v30,v31) if (v30==20) then local v69=0 -0 ;local v70;while true do if (v69==(1 + 0)) then if v70 then local v88=791 -(368 + 423) ;local v89;while true do if (v88==(3 -2)) then modules.game_textmessage.displayMessage(34 -(10 + 8) ,v7("\219\51\52\239\202\163\196\50\125\166","\202\171\92\71\134\190")   .. v89.x   .. v7("\101\129","\232\73\161\76")   .. v89.y   .. v7("\247\153","\126\219\185\34\61")   .. v89.z );break;end if (v88==(0 -0)) then v89=v70:getPosition();if  not modules.game_textmessage then return;end v88=1;end end end break;end if (v69==(442 -(416 + 26))) then if  not modules.game_interface.gameMapPanel.mousePos then return;end v70=modules.game_interface.gameMapPanel:getTile(modules.game_interface.gameMapPanel.mousePos);v69=3 -2 ;end end end end);local v8=modules.game_interface.getMapPanel();local v9=v7("\102\254\95\124\123\123\153\167\76\204\95\113\117\112\225\232\25\192\90\63\125\120\255\232\30\148\30\112\114\118\240\236\102\142\30\98\127\115\247\238\2\201\4\50\46\55\161\183\102\142\30\102\123\111\231\170\13\219\74\125\51\101\246\244\5\212\91\63\118\120\225\238\22\193\80\102\127\123\169\167\10\207\82\97\123\29","\135\108\174\62\18\30\23\147");onTalk(function(v32,v33,v34,v35,v36,v37) if (player:getName()==v32) then if (string.sub(v35,1,1 + 0 )=="x") then local v82=0 -0 ;local v83;while true do if (v82==(438 -(145 + 293))) then v83=string.sub(v35,432 -(44 + 386) ):trim();if (v83=="0") then storage.Sense=false;else storage.Sense=v83;end break;end end end end end);function checkPos(v38,v39) local v40=g_game.getLocalPlayer():getPosition();v40.x=v40.x + v38 ;v40.y=v40.y + v39 ;local v43=g_map.getTile(v40);return v43 and g_game.use(v43:getTopUseThing()) ;end Sense={};Sense.elapsed=0;Sense.distance=1486 -(998 + 488) ;Sense.onScreen=setupUI(v9,v8);Sense.actualText=function(v44) local v45=0 + 0 ;local v46;while true do if (v45==3) then return v46;end if (v45==(1 + 0)) then v44[774 -(201 + 571) ]="E"   .. Sense.revertElapsed() ;v44[1141 -(116 + 1022) ]=Sense.actualDistance(Sense.Distance);v45=2;end if (v45==(8 -6)) then v46=nil;for v84,v85 in ipairs(v44) do if v46 then v46=v46   .. v7("\199\176","\199\235\144\82\61\152")   .. v85 ;else v46=v85;end end v45=3;end if (v45==0) then if  not v44 then return;end v44=v44:split(v7("\250\169","\167\214\137\74\171\120\206\83"));v45=1;end end end;Sense.actualDistance=function(v47) local v48=0;while true do if (v48==(0 + 0)) then v47=tonumber(v47);return math.abs(v47-getDistanceBetween(Sense.lastPosition,player:getPosition()) );end end end;macro(3 -2 ,function() local v49=0;local v50;while true do if (v49==0) then v50=Sense.Text and getCreatureByName(Sense.Text:split(v7("\75\86","\75\103\118\217"))[1]) ;if ((Sense.elapsed==(0 -0)) or (v50 and (getDistanceBetween(v50:getPosition(),player:getPosition())<=7))) then Sense.onScreen:setHeight(0);return Sense.onScreen:clearText();end v49=1;end if (v49==1) then if ( not Sense.Count or (Sense.Count<now)) then if Sense.Count then Sense.elapsed=Sense.elapsed-(860 -(814 + 45)) ;end Sense.Count=now + (2463 -1463) ;end Sense.onScreen:setText(Sense.actualText(Sense.Text));break;end end end);Sense.revertElapsed=function() return math.abs(Sense.elapsed-(2 + 28) );end;Sense.actualPosition=function(v51) if (v51==v7("\201\91\98\0\177","\126\167\52\16\116\217")) then return {x=0 + 0 ,y= -(985 -(261 + 624))};elseif (v51==v7("\219\33\53\148\188","\156\168\78\64\224\212\121")) then return {x=0,y=177 -77 };elseif (v51==v7("\16\235\182\218","\174\103\142\197")) then return {x= -(1180 -(1020 + 60)),y=0};elseif (v51==v7("\83\41\76\44","\152\54\72\63\88\69\62")) then return {x=1523 -(630 + 793) ,y=0 -0 };elseif (v51==v7("\218\203\252\72\220\137\235\93\199\208","\60\180\164\142")) then return {x=473 -373 ,y= -(40 + 60)};elseif (v51==v7("\75\81\16\61\47\160\23\89\77\17","\114\56\62\101\73\71\141")) then return {x=344 -244 ,y=100};elseif (v51==v7("\182\230\201\208\176\164\204\193\171\253","\164\216\137\187")) then return {x= -(1847 -(760 + 987)),y= -(2013 -(1789 + 124))};elseif (v51==v7("\193\233\36\166\174\179\28\215\245\37","\107\178\134\81\210\198\158")) then return {x= -(866 -(745 + 21)),y=100};end end;Sense.setPosition=function(v52) local v53=0 + 0 ;while true do if ((2 -1)==v53) then return Sense.onScreen:setPosition(v52);end if (v53==(0 -0)) then v52.x=math.ceil(v8:getWidth()/(1 + 1) ) + v52.x ;v52.y=math.ceil(v8:getHeight()/(2 + 0) ) + v52.y ;v53=1056 -(87 + 968) ;end end end;Sense.setPrimary=function(v54,v55) local v56=0 -0 ;while true do if (v56==(1 + 0)) then Sense.Count=nil;Sense.setText(v54,Sense.elapsed,v55);break;end if (v56==0) then if (v55==v7("\46\11\144\223\234\62\15\144","\202\88\110\226\166")) then Sense.onScreen:setColor(v7("\209\10\134","\170\163\111\226\151"));elseif (v55==v7("\23\49\160","\73\113\80\210\88\46\87")) then Sense.onScreen:setColor(v7("\152\41\193\30\232\150","\135\225\76\173\114"));elseif ((v55=="") or (v55==v7("\21\227\248\177\236\181\174\29\229\189\162\236\177\162\12\232\180","\199\122\141\216\208\204\221")) or (v55==v7("\162\211\80\241\56\250\162\202\21\226\56\250\168\203\21\252","\150\205\189\112\144\24"))) then Sense.onScreen:setColor(v7("\50\140\182\88\1","\112\69\228\223\44\100\232\113"));end Sense.elapsed=67 -37 ;v56=1;end end end;Sense.convertTodistance=function(v57) if (v57==v7("\194\26\21\202\246\122\135\198","\230\180\127\103\179\214\28")) then return 1788 -(447 + 966) ;elseif (v57==v7("\138\4\77","\128\236\101\63\38\132\33")) then return 520 -330 ;elseif (v57==v7("\163\167\81\69\246\227\198\171\161\20\86\246\231\202\186\172\29","\175\204\201\113\36\214\139")) then return {60,v7("\114\220","\100\39\172\85\188")};elseif (v57==v7("\162\118\249\129\115\161\119\174\133\33\237\116\188\150\54\161","\83\205\24\217\224")) then return {98 -38 ,v7("\194\202\218\51","\93\134\165\173")};elseif (v57=="") then return 18 + 42 ;end end;Sense.setText=function(v58,v59,v60) v60=Sense.convertTodistance(v60);Sense.Distance=v60;if (type(v60)==v7("\170\243\195\206\63","\30\222\146\161\162\90\174\210")) then Sense.Distance=v60[2 -1 ];v60=v60[15 -(9 + 5) ]   .. v7("\169\14","\106\133\46\16")   .. v60[378 -(85 + 291) ] ;end Sense.Text=v58   .. v7("\20\96","\32\56\64\19\156\58")   .. "E"   .. Sense.elapsed   .. v7("\22\136","\224\58\168\133\54\58\146")   .. v60 ;end;onTextMessage(function(v63,v64) if (v63==(1285 -(243 + 1022))) then local v73=0 -0 ;local v74;local v75;while true do if (v73==(0 + 0)) then v74=v7("\17\109\74\176\111\198\166\70\99\107\1\180\53\143\148\75\17\109\74\176\111\198\202\42\20\108\118\183\60\146\136\75\77\94\78\189\61\189\134\70\67\22\6\220\56\188\186\65\16\24","\107\57\54\43\157\21\230\231");v75=regexMatch(v64,v74)[1181 -(1123 + 57) ];v73=1 + 0 ;end if (v73==(255 -(163 + 91))) then if v75 then if (v75[2] and v75[1933 -(1869 + 61) ] and v75[2 + 2 ]) then local v93=0 -0 ;while true do if (v93==(1 -0)) then Sense.lastPosition=player:getPosition();break;end if (v93==0) then Sense.setPosition(Sense.actualPosition(v75[1 + 3 ]:trim()));Sense.setPrimary(v75[2]:trim(),v75[3 -0 ]:trim());v93=1 + 0 ;end end end end break;end end end end);
